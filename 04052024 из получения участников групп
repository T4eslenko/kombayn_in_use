                          chats = client.get_dialogs()
                          for chat in chats:
                              if isinstance(chat.entity, Channel) or isinstance(chat.entity, Chat): #проверяем групповой ли чат
                                 
                                  # Определяем открытый чат
                                  if isinstance(chat.entity, Channel) and hasattr(chat.entity, 'broadcast'):
                                      if chat.entity.broadcast == False and chat.entity.username:
                                          openchats.append(chat.entity)
                                  # Определяем закрытый чат
                                  if isinstance(chat.entity, Channel) and hasattr(chat.entity, 'broadcast'):
                                      if chat.entity.broadcast == False and chat.entity.username == None:
                                          closechats.append(chat.entity)
                                  if isinstance(chat.entity, Chat) and chat.entity.migrated_to is None:
                                      closechats.append(chat.entity)
